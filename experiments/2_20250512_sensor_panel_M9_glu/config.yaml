# experiments/2_.../config.yaml
raw_data: "./raw_data"
plate_map: "./plate_map.xlsx"
output_dir: "./outputs/"

add_sheet_column: true
sheet_names:
  - "Plate 1 - Sheet1"
  - "Plate 2 - Sheet1"

data_parser: synergy_h1_snapshot_and_timeseries

parameters:
  - OD600
  - CFP
  - YFP

custom_parameters:
  - name: "YFP/CFP"
    type: "ratio"
    parameters:
      - YFP
      - CFP
  - name: "CFP/OD600"
    type: "ratio"
    parameters:
      - CFP
      - OD600
  - name: "YFP/OD600"
    type: "ratio"
    parameters:
      - YFP
      - OD600

time_column: "Elapsed (h)"
blank_correction: "disregard"             # 'disregard', 'avg_subtract', 'median_substract'
overflow_action: "max"

use_short_genotype_names: true
short_genotype_names:
  - {'pDual-09-araBADp': 'araBADp'}
  - {'pDual-09-pspAp': 'pspAp'}
  - {'pDual-09-marRABp': 'marRABp'}
  - {'pDual-09-umuDCp': 'umuDCp'}
  - {'pDual-09-cpxPp': 'cpxPp'}
  - {'pDual-09-soxSp': 'soxSp'}

plots:
  - name: distributions
    module: distributions.py
    params:
      channels: [OD600, YFP, CFP, YFP/OD600, CFP/OD600, YFP/CFP]
    fig:
      seaborn_style: "ticks"
      palette: "colorblind"
      figsize: [8, 6]
      dpi: 300


  # - name: time_series_grouped
  #   module: time_series.py
  #   subplots: "group"                         # one panel per group
  #   params:
  #     x: "time"
  #     y: [OD600, YFP, CFP, YFP/OD600, CFP/OD600, YFP/CFP]
  #     hue: "treatment"
  #     groupby_col: "genotype"
  #     add_sheet_line: true
  #     # log_transform: [YFP/OD600, CFP/OD600, YFP/CFP]    # these must appear in y
  #   groups:
  #     - { AraC Sensor: ["araBADp"] }
  #     - { PspF Sensor: ["pspAp"] }
  #     - { MarA Sensor: ["marRABp"] }
  #     - { LexA Sensor: ["umuDCp"] }
  #     - { SoxS Sensor: ["soxSp"] }
  #     - { CpxP Sensor: ["cpxPp"] }

  #   fig:
  #     figsize: [10, 6]
  #     dpi: 300


  - name: grouped_barplot_snapshot
    module: barplot_snapshot.py
    params:
      # xâ€‘axis is the genotype string
      x: "genotype"
      # you can pass either a single Y or a list of Ys;
      # if you pass a list, one barplot is created per Y
      y: [OD600, YFP/CFP]
      hue: "treatment"
      # snapshot time in hours; picks the closest available
      time: 12
    groups:
      - { AraC Sensor (araBADp): ["araBADp"] }
      - { PspF Sensor (pspAp): ["pspAp"] }
      - { MarA Sensor (marRABp): ["marRABp"] }
      - { LexA Sensor (umuDCp): ["umuDCp"] }
      - { SoxS Sensor (soxSp): ["soxSp"] }
      - { CpxP Sensor (cpxPp): ["cpxPp"] }
    fig:
      figsize: [10, 6]
      dpi: 300